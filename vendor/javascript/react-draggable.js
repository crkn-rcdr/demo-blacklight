import*as e from"react";import*as t from"prop-types";import*as r from"react-dom";import*as n from"clsx";var o={};Object.defineProperty(o,"__esModule",{value:true});o.dontSetMe=dontSetMe;o.findInArray=findInArray;o.int=int;o.isFunction=isFunction;o.isNum=isNum;function findInArray(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]}function isFunction(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function isNum(e){return"number"===typeof e&&!isNaN(e)}function int(e){return parseInt(e,10)}function dontSetMe(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}var a={};Object.defineProperty(a,"__esModule",{value:true});a.browserPrefixToKey=browserPrefixToKey;a.browserPrefixToStyle=browserPrefixToStyle;a.default=void 0;a.getPrefix=getPrefix;var i=["Moz","Webkit","O","ms"];function getPrefix(){var e,t;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var n=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!n)return"";if(r in n)return"";for(var o=0;o<i.length;o++)if(browserPrefixToKey(r,i[o])in n)return i[o];return""}function browserPrefixToKey(e,t){return t?"".concat(t).concat(kebabToTitleCase(e)):e}function browserPrefixToStyle(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function kebabToTitleCase(e){var t="";var r=true;for(var n=0;n<e.length;n++)if(r){t+=e[n].toUpperCase();r=false}else"-"===e[n]?r=true:t+=e[n];return t}var s=getPrefix();a.default=s;var l={};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}Object.defineProperty(l,"__esModule",{value:true});l.addClassName=addClassName;l.addEvent=addEvent;l.addUserSelectStyles=addUserSelectStyles;l.createCSSTransform=createCSSTransform;l.createSVGTransform=createSVGTransform;l.getTouch=getTouch;l.getTouchIdentifier=getTouchIdentifier;l.getTranslation=getTranslation;l.innerHeight=innerHeight;l.innerWidth=innerWidth;l.matchesSelector=matchesSelector;l.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;l.offsetXYFromParent=offsetXYFromParent;l.outerHeight=outerHeight;l.outerWidth=outerWidth;l.removeClassName=removeClassName;l.removeEvent=removeEvent;l.removeUserSelectStyles=removeUserSelectStyles;var u=o;var f=_interopRequireWildcard$2(a);function _getRequireWildcardCache$2(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache$2=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard$2(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof$2(e)&&"function"!==typeof e)return{default:e};var r=_getRequireWildcardCache$2(t);if(r&&r.has(e))return r.get(e);var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty$2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$2(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var c="";function matchesSelector(e,t){c||(c=(0,u.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,u.isFunction)(e[t])})));return!!(0,u.isFunction)(e[c])&&e[c](t)}function matchesSelectorAndParentsTo(e,t,r){var n=e;do{if(matchesSelector(n,t))return true;if(n===r)return false;n=n.parentNode}while(n);return false}function addEvent(e,t,r,n){if(e){var o=_objectSpread$1({capture:true},n);e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}}function removeEvent(e,t,r,n){if(e){var o=_objectSpread$1({capture:true},n);e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}}function outerHeight(e){var t=e.clientHeight;var r=e.ownerDocument.defaultView.getComputedStyle(e);t+=(0,u.int)(r.borderTopWidth);t+=(0,u.int)(r.borderBottomWidth);return t}function outerWidth(e){var t=e.clientWidth;var r=e.ownerDocument.defaultView.getComputedStyle(e);t+=(0,u.int)(r.borderLeftWidth);t+=(0,u.int)(r.borderRightWidth);return t}function innerHeight(e){var t=e.clientHeight;var r=e.ownerDocument.defaultView.getComputedStyle(e);t-=(0,u.int)(r.paddingTop);t-=(0,u.int)(r.paddingBottom);return t}function innerWidth(e){var t=e.clientWidth;var r=e.ownerDocument.defaultView.getComputedStyle(e);t-=(0,u.int)(r.paddingLeft);t-=(0,u.int)(r.paddingRight);return t}function offsetXYFromParent(e,t,r){var n=t===t.ownerDocument.body;var o=n?{left:0,top:0}:t.getBoundingClientRect();var a=(e.clientX+t.scrollLeft-o.left)/r;var i=(e.clientY+t.scrollTop-o.top)/r;return{x:a,y:i}}function createCSSTransform(e,t){var r=getTranslation(e,t,"px");return _defineProperty$2({},(0,f.browserPrefixToKey)("transform",f.default),r)}function createSVGTransform(e,t){var r=getTranslation(e,t,"");return r}function getTranslation(e,t,r){var n=e.x,o=e.y;var a="translate(".concat(n).concat(r,",").concat(o).concat(r,")");if(t){var i="".concat("string"===typeof t.x?t.x:t.x+r);var s="".concat("string"===typeof t.y?t.y:t.y+r);a="translate(".concat(i,", ").concat(s,")")+a}return a}function getTouch(e,t){return e.targetTouches&&(0,u.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,u.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))}function getTouchIdentifier(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function addUserSelectStyles(e){if(e){var t=e.getElementById("react-draggable-style-el");if(!t){t=e.createElement("style");t.type="text/css";t.id="react-draggable-style-el";t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n";t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n";e.getElementsByTagName("head")[0].appendChild(t)}e.body&&addClassName(e.body,"react-draggable-transparent-selection")}}function removeUserSelectStyles(e){if(e)try{e.body&&removeClassName(e.body,"react-draggable-transparent-selection");if(e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function addClassName(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function removeClassName(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var d={};Object.defineProperty(d,"__esModule",{value:true});d.canDragX=canDragX;d.canDragY=canDragY;d.createCoreData=createCoreData;d.createDraggableData=createDraggableData;d.getBoundPosition=getBoundPosition;d.getControlPosition=getControlPosition;d.snapToGrid=snapToGrid;var p=o;var y=l;function getBoundPosition(e,t,r){if(!e.props.bounds)return[t,r];var n=e.props.bounds;n="string"===typeof n?n:cloneBounds(n);var o=findDOMNode(e);if("string"===typeof n){var a=o.ownerDocument;var i=a.defaultView;var s;s="parent"===n?o.parentNode:a.querySelector(n);if(!(s instanceof i.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var l=s;var u=i.getComputedStyle(o);var f=i.getComputedStyle(l);n={left:-o.offsetLeft+(0,p.int)(f.paddingLeft)+(0,p.int)(u.marginLeft),top:-o.offsetTop+(0,p.int)(f.paddingTop)+(0,p.int)(u.marginTop),right:(0,y.innerWidth)(l)-(0,y.outerWidth)(o)-o.offsetLeft+(0,p.int)(f.paddingRight)-(0,p.int)(u.marginRight),bottom:(0,y.innerHeight)(l)-(0,y.outerHeight)(o)-o.offsetTop+(0,p.int)(f.paddingBottom)-(0,p.int)(u.marginBottom)}}(0,p.isNum)(n.right)&&(t=Math.min(t,n.right));(0,p.isNum)(n.bottom)&&(r=Math.min(r,n.bottom));(0,p.isNum)(n.left)&&(t=Math.max(t,n.left));(0,p.isNum)(n.top)&&(r=Math.max(r,n.top));return[t,r]}function snapToGrid(e,t,r){var n=Math.round(t/e[0])*e[0];var o=Math.round(r/e[1])*e[1];return[n,o]}function canDragX(e){return"both"===e.props.axis||"x"===e.props.axis}function canDragY(e){return"both"===e.props.axis||"y"===e.props.axis}function getControlPosition(e,t,r){var n="number"===typeof t?(0,y.getTouch)(e,t):null;if("number"===typeof t&&!n)return null;var o=findDOMNode(r);var a=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,y.offsetXYFromParent)(n||e,a,r.props.scale)}function createCoreData(e,t,r){var n=e.state;var o=!(0,p.isNum)(n.lastX);var a=findDOMNode(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:a,deltaX:t-n.lastX,deltaY:r-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:r}}function createDraggableData(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}}function cloneBounds(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function findDOMNode(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var g={};Object.defineProperty(g,"__esModule",{value:true});g.default=log;function log(){void 0}var v="default"in e?e.default:e;var h="default"in t?t.default:t;var b="default"in r?r.default:r;var m={};function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}Object.defineProperty(m,"__esModule",{value:true});m.default=void 0;var _=_interopRequireWildcard$1(v);var S=_interopRequireDefault$1(h);var P=_interopRequireDefault$1(b);var D=l;var O=d;var w=o;var T=_interopRequireDefault$1(g);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache$1(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache$1=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard$1(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof$1(e)&&"function"!==typeof e)return{default:e};var r=_getRequireWildcardCache$1(t);if(r&&r.has(e))return r.get(e);var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function _slicedToArray$1(e,t){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,t)||_unsupportedIterableToArray$1(e,t)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$1(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$1(e,t):void 0}}function _arrayLikeToArray$1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit$1(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n=[];var o=true;var a=false;var i,s;try{for(r=r.call(e);!(o=(i=r.next()).done);o=true){n.push(i.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw s}}return n}}function _arrayWithHoles$1(e){if(Array.isArray(e))return e}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){t&&_defineProperties$1(e.prototype,t);r&&_defineProperties$1(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inherits$1(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&_setPrototypeOf$1(e,t)}function _setPrototypeOf$1(e,t){_setPrototypeOf$1=Object.setPrototypeOf||function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf$1(e,t)}function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function _createSuperInternal(){var r,n=_getPrototypeOf$1(e);if(t){var o=_getPrototypeOf$1(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn$1(this,r)}}function _possibleConstructorReturn$1(e,t){if(t&&("object"===_typeof$1(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(e)}function _assertThisInitialized$1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$1(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf$1(e){_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf$1(e)}function _defineProperty$1(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var j={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};var C=j.mouse;var $=function(e){_inherits$1(DraggableCore,e);var t=_createSuper$1(DraggableCore);function DraggableCore(){var e;_classCallCheck$1(this,DraggableCore);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e=t.call.apply(t,[this].concat(n));_defineProperty$1(_assertThisInitialized$1(e),"state",{dragging:false,lastX:NaN,lastY:NaN,touchIdentifier:null});_defineProperty$1(_assertThisInitialized$1(e),"mounted",false);_defineProperty$1(_assertThisInitialized$1(e),"handleDragStart",(function(t){e.props.onMouseDown(t);if(!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return false;var r=e.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=r.ownerDocument;if(!(e.props.disabled||!(t.target instanceof n.defaultView.Node)||e.props.handle&&!(0,D.matchesSelectorAndParentsTo)(t.target,e.props.handle,r)||e.props.cancel&&(0,D.matchesSelectorAndParentsTo)(t.target,e.props.cancel,r))){"touchstart"===t.type&&t.preventDefault();var o=(0,D.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var a=(0,O.getControlPosition)(t,o,_assertThisInitialized$1(e));if(null!=a){var i=a.x,s=a.y;var l=(0,O.createCoreData)(_assertThisInitialized$1(e),i,s);(0,T.default)("DraggableCore: handleDragStart: %j",l);(0,T.default)("calling",e.props.onStart);var u=e.props.onStart(t,l);if(false!==u&&false!==e.mounted){e.props.enableUserSelectHack&&(0,D.addUserSelectStyles)(n);e.setState({dragging:true,lastX:i,lastY:s});(0,D.addEvent)(n,C.move,e.handleDrag);(0,D.addEvent)(n,C.stop,e.handleDragStop)}}}}));_defineProperty$1(_assertThisInitialized$1(e),"handleDrag",(function(t){var r=(0,O.getControlPosition)(t,e.state.touchIdentifier,_assertThisInitialized$1(e));if(null!=r){var n=r.x,o=r.y;if(Array.isArray(e.props.grid)){var a=n-e.state.lastX,i=o-e.state.lastY;var s=(0,O.snapToGrid)(e.props.grid,a,i);var l=_slicedToArray$1(s,2);a=l[0];i=l[1];if(!a&&!i)return;n=e.state.lastX+a,o=e.state.lastY+i}var u=(0,O.createCoreData)(_assertThisInitialized$1(e),n,o);(0,T.default)("DraggableCore: handleDrag: %j",u);var f=e.props.onDrag(t,u);if(false!==f&&false!==e.mounted)e.setState({lastX:n,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",true,true,window,0,0,0,0,0,false,false,false,false,0,null);e.handleDragStop(c)}}}));_defineProperty$1(_assertThisInitialized$1(e),"handleDragStop",(function(t){if(e.state.dragging){var r=(0,O.getControlPosition)(t,e.state.touchIdentifier,_assertThisInitialized$1(e));if(null!=r){var n=r.x,o=r.y;if(Array.isArray(e.props.grid)){var a=n-e.state.lastX||0;var i=o-e.state.lastY||0;var s=(0,O.snapToGrid)(e.props.grid,a,i);var l=_slicedToArray$1(s,2);a=l[0];i=l[1];n=e.state.lastX+a,o=e.state.lastY+i}var u=(0,O.createCoreData)(_assertThisInitialized$1(e),n,o);var f=e.props.onStop(t,u);if(false===f||false===e.mounted)return false;var c=e.findDOMNode();c&&e.props.enableUserSelectHack&&(0,D.removeUserSelectStyles)(c.ownerDocument);(0,T.default)("DraggableCore: handleDragStop: %j",u);e.setState({dragging:false,lastX:NaN,lastY:NaN});if(c){(0,T.default)("DraggableCore: Removing handlers");(0,D.removeEvent)(c.ownerDocument,C.move,e.handleDrag);(0,D.removeEvent)(c.ownerDocument,C.stop,e.handleDragStop)}}}}));_defineProperty$1(_assertThisInitialized$1(e),"onMouseDown",(function(t){C=j.mouse;return e.handleDragStart(t)}));_defineProperty$1(_assertThisInitialized$1(e),"onMouseUp",(function(t){C=j.mouse;return e.handleDragStop(t)}));_defineProperty$1(_assertThisInitialized$1(e),"onTouchStart",(function(t){C=j.touch;return e.handleDragStart(t)}));_defineProperty$1(_assertThisInitialized$1(e),"onTouchEnd",(function(t){C=j.touch;return e.handleDragStop(t)}));return e}_createClass$1(DraggableCore,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=true;var e=this.findDOMNode();e&&(0,D.addEvent)(e,j.touch.start,this.onTouchStart,{passive:false})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,D.removeEvent)(t,j.mouse.move,this.handleDrag);(0,D.removeEvent)(t,j.touch.move,this.handleDrag);(0,D.removeEvent)(t,j.mouse.stop,this.handleDragStop);(0,D.removeEvent)(t,j.touch.stop,this.handleDragStop);(0,D.removeEvent)(e,j.touch.start,this.onTouchStart,{passive:false});this.props.enableUserSelectHack&&(0,D.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function findDOMNode(){var e,t,r;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(r=t.nodeRef)||void 0===r?void 0:r.current:P.default.findDOMNode(this)}},{key:"render",value:function render(){return _.cloneElement(_.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]);return DraggableCore}(_.Component);m.default=$;_defineProperty$1($,"displayName","DraggableCore");_defineProperty$1($,"propTypes",{allowAnyClick:S.default.bool,disabled:S.default.bool,enableUserSelectHack:S.default.bool,offsetParent:function offsetParent(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:S.default.arrayOf(S.default.number),handle:S.default.string,cancel:S.default.string,nodeRef:S.default.object,onStart:S.default.func,onDrag:S.default.func,onStop:S.default.func,onMouseDown:S.default.func,scale:S.default.number,className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe});_defineProperty$1($,"defaultProps",{allowAnyClick:false,disabled:false,enableUserSelectHack:true,onStart:function onStart(){},onDrag:function onDrag(){},onStop:function onStop(){},onMouseDown:function onMouseDown(){},scale:1});var x="default"in e?e.default:e;var M="default"in t?t.default:t;var N="default"in r?r.default:r;var E="default"in n?n.default:n;var R={};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}Object.defineProperty(R,"__esModule",{value:true});Object.defineProperty(R,"DraggableCore",{enumerable:true,get:function get(){return q.default}});R.default=void 0;var I=_interopRequireWildcard(x);var k=_interopRequireDefault(M);var W=_interopRequireDefault(N);var A=_interopRequireDefault(E);var X=l;var Y=d;var L=o;var q=_interopRequireDefault(m);var z=_interopRequireDefault(g);var U=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap;var r=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!==typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function _extends(){_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return _extends.apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];t.indexOf(o)>=0||(r[o]=e[o])}return r}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n=[];var o=true;var a=false;var i,s;try{for(r=r.call(e);!(o=(i=r.next()).done);o=true){n.push(i.value);if(t&&n.length===t)break}}catch(e){a=true;s=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw s}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){t&&_defineProperties(e.prototype,t);r&&_defineProperties(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _defineProperty(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var H=function(e){_inherits(Draggable,e);var t=_createSuper(Draggable);function Draggable(e){var r;_classCallCheck(this,Draggable);r=t.call(this,e);_defineProperty(_assertThisInitialized(r),"onDragStart",(function(e,t){(0,z.default)("Draggable: onDragStart: %j",t);var n=r.props.onStart(e,(0,Y.createDraggableData)(_assertThisInitialized(r),t));if(false===n)return false;r.setState({dragging:true,dragged:true})}));_defineProperty(_assertThisInitialized(r),"onDrag",(function(e,t){if(!r.state.dragging)return false;(0,z.default)("Draggable: onDrag: %j",t);var n=(0,Y.createDraggableData)(_assertThisInitialized(r),t);var o={x:n.x,y:n.y};if(r.props.bounds){var a=o.x,i=o.y;o.x+=r.state.slackX;o.y+=r.state.slackY;var s=(0,Y.getBoundPosition)(_assertThisInitialized(r),o.x,o.y),l=_slicedToArray(s,2),u=l[0],f=l[1];o.x=u;o.y=f;o.slackX=r.state.slackX+(a-o.x);o.slackY=r.state.slackY+(i-o.y);n.x=o.x;n.y=o.y;n.deltaX=o.x-r.state.x;n.deltaY=o.y-r.state.y}var c=r.props.onDrag(e,n);if(false===c)return false;r.setState(o)}));_defineProperty(_assertThisInitialized(r),"onDragStop",(function(e,t){if(!r.state.dragging)return false;var n=r.props.onStop(e,(0,Y.createDraggableData)(_assertThisInitialized(r),t));if(false===n)return false;(0,z.default)("Draggable: onDragStop: %j",t);var o={dragging:false,slackX:0,slackY:0};var a=Boolean(r.props.position);if(a){var i=r.props.position,s=i.x,l=i.y;o.x=s;o.y=l}r.setState(o)}));r.state={dragging:false,dragged:false,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:_objectSpread({},e.position),slackX:0,slackY:0,isElementSVG:false};e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.");return r}_createClass(Draggable,[{key:"componentDidMount",value:function componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:true})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({dragging:false})}},{key:"findDOMNode",value:function findDOMNode(){var e,t,r;return null!==(e=null===(t=this.props)||void 0===t||null===(r=t.nodeRef)||void 0===r?void 0:r.current)&&void 0!==e?e:W.default.findDOMNode(this)}},{key:"render",value:function render(){var e;var t=this.props,r=(t.axis,t.bounds,t.children),n=t.defaultPosition,o=t.defaultClassName,a=t.defaultClassNameDragging,i=t.defaultClassNameDragged,s=t.position,l=t.positionOffset,u=(t.scale,_objectWithoutProperties(t,U));var f={};var c=null;var d=Boolean(s);var p=!d||this.state.dragging;var y=s||n;var g={x:(0,Y.canDragX)(this)&&p?this.state.x:y.x,y:(0,Y.canDragY)(this)&&p?this.state.y:y.y};this.state.isElementSVG?c=(0,X.createSVGTransform)(g,l):f=(0,X.createCSSTransform)(g,l);var v=(0,A.default)(r.props.className||"",o,(e={},_defineProperty(e,a,this.state.dragging),_defineProperty(e,i,this.state.dragged),e));return I.createElement(q.default,_extends({},u,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),I.cloneElement(I.Children.only(r),{className:v,style:_objectSpread(_objectSpread({},r.props.style),f),transform:c}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var r=e.position;var n=t.prevPropsPosition;if(r&&(!n||r.x!==n.x||r.y!==n.y)){(0,z.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n});return{x:r.x,y:r.y,prevPropsPosition:_objectSpread({},r)}}return null}}]);return Draggable}(I.Component);R.default=H;_defineProperty(H,"displayName","Draggable");_defineProperty(H,"propTypes",_objectSpread(_objectSpread({},q.default.propTypes),{},{axis:k.default.oneOf(["both","x","y","none"]),bounds:k.default.oneOfType([k.default.shape({left:k.default.number,right:k.default.number,top:k.default.number,bottom:k.default.number}),k.default.string,k.default.oneOf([false])]),defaultClassName:k.default.string,defaultClassNameDragging:k.default.string,defaultClassNameDragged:k.default.string,defaultPosition:k.default.shape({x:k.default.number,y:k.default.number}),positionOffset:k.default.shape({x:k.default.oneOfType([k.default.number,k.default.string]),y:k.default.oneOfType([k.default.number,k.default.string])}),position:k.default.shape({x:k.default.number,y:k.default.number}),className:L.dontSetMe,style:L.dontSetMe,transform:L.dontSetMe}));_defineProperty(H,"defaultProps",_objectSpread(_objectSpread({},q.default.defaultProps),{},{axis:"both",bounds:false,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}));var B={};var V=R,G=V.default,F=V.DraggableCore;B=G;B.default=G;B.DraggableCore=F;var K=B;const J=B.DraggableCore;export{J as DraggableCore,K as default};

