{"version":3,"file":"js/facet_modal-0037083c9498c06fbb10.js","mappings":"qoCAEU,WACF,IAAIA,EAAgBC,SAASC,uBAAuB,wBAEpD,GADAC,QAAQC,IAAIJ,GACRA,EAAJ,CAAyB,IACYK,EADZC,EAAAC,EACDP,GAAa,QAAAQ,EAAA,WAAG,IAAhCC,EAAYJ,EAAAK,MACVC,EAASF,EAAaG,iBAAiB,KACjCC,MAAMC,KAAKH,GACbI,KAAI,SAAAC,GACNA,EAAEC,QAAU,SAACC,GACTA,EAAEC,iBACFC,MAAMJ,EAAEK,MACHC,MAAK,SAACC,GAEH,OAAOA,EAASC,MACpB,IACCF,MAAK,SAACG,GAGH,IACIC,GADM,IAAIC,WAAYC,gBAAgBH,EAAM,aAClCb,iBAAiB,uCAChBH,EAAaP,uBAAuB,uBAC1C2B,UAAYH,EAAIG,SAC7B,GACR,CACJ,GACR,EArBA,IAAAvB,EAAAwB,MAAAzB,EAAAC,EAAAyB,KAAAC,MAAAxB,GAqBC,OAAAyB,GAAA3B,EAAAY,EAAAe,EAAA,SAAA3B,EAAA4B,GAAA,CAtBwB,CAuB7B,EC3BJC,E","sources":["webpack://demo-blacklight/./app/javascript/src/modules/facet_modal.js","webpack://demo-blacklight/./app/javascript/packs/facet_modal.js"],"sourcesContent":["\r\nexport default {\r\n    init: function() {\r\n        let facetTriggers = document.getElementsByClassName(\"facet-modal-override\")\r\n        console.log(facetTriggers)\r\n        if(!facetTriggers) return\r\n        for(let facetTrigger of facetTriggers) {\r\n            const $elems = facetTrigger.querySelectorAll('a')\r\n            var elems = Array.from($elems)\r\n                elems.map(a => {\r\n                    a.onclick = (e) => {\r\n                        e.preventDefault()\r\n                        fetch(a.href)\r\n                            .then((response) => {\r\n                                // When the page is loaded convert it to text\r\n                                return response.text()\r\n                            })\r\n                            .then((html) => {\r\n                                // more_#{@facet_field.key}_html\r\n                                // data-blacklight-modal=\"container\"\r\n                                let doc = new DOMParser().parseFromString(html, \"text/html\")\r\n                                let div = doc.querySelectorAll('[data-blacklight-modal=\"container\"]')\r\n                                let modalDiv = facetTrigger.getElementsByClassName(\"facet-modal-wrapper\")\r\n                                modalDiv.innerHTML = div.innerHTML\r\n                            })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n}","import FacetModal from \"../src/modules/facet_modal.js\";\r\nFacetModal.init();\r\n"],"names":["facetTriggers","document","getElementsByClassName","console","log","_step","_iterator","_createForOfIteratorHelper","_loop","facetTrigger","value","$elems","querySelectorAll","Array","from","map","a","onclick","e","preventDefault","fetch","href","then","response","text","html","div","DOMParser","parseFromString","innerHTML","s","n","done","err","f","FacetModal"],"sourceRoot":""}